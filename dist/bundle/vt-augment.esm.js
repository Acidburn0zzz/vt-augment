var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var n=function(e,n,t){return e(t={path:n,exports:{},require:function(e,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&t.path)}},t.exports),t.exports}((function(n){!function(e,t){n.exports?n.exports=t():e.lscache=t()}(e,(function(){var e,n,t=6e4,r=v(t),o="",i=!1;function a(){var n="__lscachetest__";if(void 0!==e)return e;try{if(!localStorage)return!1}catch(e){return!1}try{d(n,"__lscachetest__"),h(n),e=!0}catch(n){e=!(!c(n)||!localStorage.length)}return e}function c(e){return e&&("QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||"QuotaExceededError"===e.name)}function s(){return void 0===n&&(n=null!=window.JSON),n}function u(e){return e+"-cacheexpiration"}function l(){return Math.floor((new Date).getTime()/t)}function f(e){return localStorage.getItem("lscache-"+o+e)}function d(e,n){localStorage.removeItem("lscache-"+o+e),localStorage.setItem("lscache-"+o+e,n)}function h(e){localStorage.removeItem("lscache-"+o+e)}function p(e){for(var n=new RegExp("^lscache-"+(o.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")+"(.*)")),t=localStorage.length-1;t>=0;--t){var r=localStorage.key(t);(r=(r=r&&r.match(n))&&r[1])&&r.indexOf("-cacheexpiration")<0&&e(r,u(r))}}function g(e){var n=u(e);h(e),h(n)}function m(e){var n=u(e),t=f(n);if(t){var r=parseInt(t,10);if(l()>=r)return h(e),h(n),!0}}function y(e,n){i&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+e),n&&window.console.warn("lscache - The error was: "+n.message))}function v(e){return Math.floor(864e13/e)}return{set:function(e,n,t){if(!a())return!1;if(!s())return!1;try{n=JSON.stringify(n)}catch(e){return!1}try{d(e,n)}catch(t){if(!c(t))return y("Could not add item with key '"+e+"'",t),!1;var o,i=[];p((function(e,n){var t=f(n);t=t?parseInt(t,10):r,i.push({key:e,size:(f(e)||"").length,expiration:t})})),i.sort((function(e,n){return n.expiration-e.expiration}));for(var m=(n||"").length;i.length&&m>0;)o=i.pop(),y("Cache is full, removing item with key '"+e+"'"),g(o.key),m-=o.size;try{d(e,n)}catch(n){return y("Could not add item with key '"+e+"', perhaps it's too big?",n),!1}}return t?d(u(e),(l()+t).toString(10)):h(u(e)),!0},get:function(e){if(!a())return null;if(m(e))return null;var n=f(e);if(!n||!s())return n;try{return JSON.parse(n)}catch(e){return n}},remove:function(e){a()&&g(e)},supported:function(){return a()},flush:function(){a()&&p((function(e){g(e)}))},flushExpired:function(){a()&&p((function(e){m(e)}))},setBucket:function(e){o=e},resetBucket:function(){o=""},getExpiryMilliseconds:function(){return t},setExpiryMilliseconds:function(e){r=v(t=e)},enableWarnings:function(e){i=e}}}))})),t=function(){function e(n,t){var r=this;this._container=n,this._options=t,e.createStyleSheet(),e.getIframe(n),n.classList.add("vt-augment-4rrgf4"),t.background&&(n.style.background=t.background),t.mode&&"drawer"!==t.mode||n.classList.add("drawer"),document.body.addEventListener("click",(function(e){e.target!==n&&r.closeDrawer()})),window.addEventListener("message",(function(e){"VTAUGMENT:READY"===e.data&&r.loading(!1)}))}return e.factory=function(n,t){return void 0===n&&(n=null),void 0===t&&(t={}),new e(n,t)},e.prototype.load=function(t){var r=this,o=e.getIframe(this._container);if(!("srcdoc"in o))return this.loading(!0),o.src=t,this;var i=n.get(t);if(i||(this.loading(!0),this.preload(t)),"fetching"!==i)return o.srcdoc=i,this;if("fetching"===i){this.loading(!0);var a=setInterval((function(){(i=n.get(t))&&"fetching"!==i?(clearInterval(a),o.srcdoc=i,r.loading(!1)):null===i&&(clearInterval(a),o.src=t)}),200)}return this},e.prototype.preload=function(t){void 0!==e.getIframe(this._container).srcdoc&&(n.get(t)||(n.set(t,"fetching",1),e.getHtmlAjax(t)))},e.prototype.openDrawer=function(){return this._container.setAttribute("opened",""),this},e.prototype.closeDrawer=function(){return this._container.removeAttribute("opened"),this},e.prototype.listen=function(){return console.error("listen: Not implemented yet"),this},e.prototype.loading=function(n){var t=e.getSpinner(this._container),r=e.getIframe(this._container);return t.style.display=n?"block":"none",r.style.display=n?"none":"block",this},e.createStyleSheet=function(){var e=document.createElement("style");e.innerHTML="\n  .vt-augment-4rrgf4 {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .vt-augment-4rrgf4.drawer {\n    width: 700px;\n    background: white;\n    border: 1px solid #e6e6e6;\n    text-align: left;\n    z-index: 102;\n    position: fixed;\n    right: 0;\n    top: 0;\n    height: 100vh;\n    box-shadow: -4px 5px 8px -3px rgba(17, 17, 17, .16);\n    animation: slideToRight-4rrgf4 0.5s 1 forwards;\n    transform: translateX(100vw);\n  }\n  .vt-augment-4rrgf4.drawer[opened] {\n    animation: slideFromRight-4rrgf4 0.2s 1 forwards;\n  }\n  .vt-augment-4rrgf4 > .spinner {\n    border: 8px solid rgba(0, 0, 0, 0.2);\n    border-left-color: white;\n    border-radius: 50%;\n    width: 50px;\n    height: 50px;\n    animation: spin-4rrgf4 1.2s linear infinite;\n  }\n  @keyframes spin-4rrgf4 {\n    to { transform: rotate(360deg); }\n  }\n  @keyframes slideFromRight-4rrgf4 {\n    0% {\n      transform: translateX(100vw);\n    }\n    100% {\n      transform: translateX(0);\n    }\n  }\n  @keyframes slideToRight-4rrgf4 {\n    100% {\n      transform: translateX(100vw);\n      display: none;\n    }\n  }\n",document.body.appendChild(e)},e.getIframe=function(e){var n=e.querySelector("iframe");return n||((n=document.createElement("iframe")).style.width="100%",n.style.height="100%",n.setAttribute("frameborder","0"),e.appendChild(n)),n},e.getSpinner=function(e){var n=e.querySelector("div.spinner");return n||((n=document.createElement("div")).classList.add("spinner"),e.appendChild(n)),n},e.getHtmlAjax=function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){t.readyState===XMLHttpRequest.DONE&&(200===t.status?n.set(e,t.response,60):n.remove(e))},t.open("GET",e,!0),t.send()},e}(),r=t.factory;r.default=t.factory;export default r;
//# sourceMappingURL=vt-augment.esm.js.map
